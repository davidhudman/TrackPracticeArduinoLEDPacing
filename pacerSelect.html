<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>-->
    <!-- Local files
    <link rel="stylesheet" href="themes/Bootstrap.css">
    <link rel="stylesheet" href="jquery.mobile-1.4.5/jquery.mobile.structure-1.4.5.min.css" />
    <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
    <script src="jquery-1.8.2.min.js"></script>
    <script src="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>-->
    
    <!-- External Style Sheets -->
    <!--<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
    <!-- Include jQuery Mobile stylesheets -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <!-- Include the jQuery library -->
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- Include the jQuery Mobile library -->
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

    <link rel="stylesheet" href="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.min.css">
	<script src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.core.min.js"></script>
	<script src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.calbox.min.js"></script>
	<script src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.datebox.min.js"></script>
	<script src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.flipbox.min.js"></script>
	<script src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.durationbox.min.js"></script>
	<script src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.slidebox.min.js"></script>
	<script src="http://dev.jtsage.com/cdn/simpledialog/latest/jquery.mobile.simpledialog.min.js"></script>
    
    <!-- Local numpad files -->
    <link rel="stylesheet" href="Mobile-friendly-Numeric-Keypad-Plugin-For-jQuery-NumPad/jquery.numpad.css">
    <script src="Mobile-friendly-Numeric-Keypad-Plugin-For-jQuery-NumPad/jquery.numpad.js"></script>
    <script>
        var isDeveloperMode = false;
        var isVerificationEnabled = true;     // If false, this will allow the user to click through the app without being attached to any DB or web server

        // Globals specific to the client's track and desired permissions
        var ipAddress = "http://172.20.10.7";           // IP address for Yun on my iPhone hotspot network.
        // var ipAddress = "http://192.168.1.153";      // IP address for Yun on my home network
        // var ipAddress = "http://192.168.240.1";      // IP address for Yun on its own network.
        // var ipAddress = "http://192.168.1.244";      // IP address for Yun on Aaron's apt network
        var numPacers = 10;
        var lapTimeInputConstraints = [1, 900];
        var trackDistanceInMeters = 400;
        var userTimeInputDistance = 1609.344; 			 // this allows the user to specify whether they want to input their pace as a lap pace (based on how long this track is), 400m pace, 1600m pace, or mile pace
        var userTimeInputDistanceString = "mile";	    // a string that will indicate to the user what they chose (or what is default)
        var isUserBackwardsPermissionEnabled = true;
        var isUserWorkoutPermissionEnabled = true;
        var isUserVisiblePermissionEnabled = true;
        var isUserSpeedChangePermissionEnabled = true;
        var isUserNameChangePermissionEnabled = true;
        var isDistanceChangePermissionEnabled = false;

        var pacerButton = [];
        var advancedButtonPressed = false;
        var onCreateNewPacerViewSequence = false;
        var onExistingPacerSequence = false;
        var onCoachSequence = false;
        var extrasMode = false;
        var masterPacerSelected = -1;
        var masterColorIndex = 1;
        var masterUserPaceTime = "-1";
        var pinVar = -1;
        var newPacer = [];

        colorArray = ["black", "white", "red", "orange", "yellow", "green", "blue", "purple"];

        // workout creation
        numMetersArray = [];
        secondsLapPaceArray = [];
        secondsRestArray = [];
        currentInterval = 0;


        // *****************
        // Click Handlers
        // *****************

        function testingSimplePacerControlViewCalled() {
            $(":mobile-pagecontainer").pagecontainer("change", "#testingSimplePacerControl", {
                transition: "slide"
            });
        }

        function newPacerButton_onclick() {
            $(":mobile-pagecontainer").pagecontainer("change", "#pinView_create", {
                transition: "slide"
            });
        }

        // lets the user change the default distance that they use to enter their pace
        function paceTypeLabel_onclick() {
            $(":mobile-pagecontainer").pagecontainer("change", "#paceTypeInput_create", {
                transition: "slide"
            });
        }

        function advanced_onclick() {
            $(":mobile-pagecontainer").pagecontainer("change", "#extraOptionsView", {
                transition: "slide"
            });
        }

        function start() {
            $("#startPopup").popup("open");
        }

        // Displays an alert when the user clicks the help button, but this needs to be changed to be specific for each button.
        function help() {
            // alert("Once you enter a valid lap time, click the green 'Go' Button.\n\nIn order to clear or exit your pacer, click the red 'Quit' button.\n\nIn order to restart your pacer, click the yellow 'Reset Countdown' button.")
            $("#helpPopup").popup("open");

            /*$("#timePopup").popup("open", { positionTo: "#timeInputLink", tolerance: "80, 15, 30, 15" });

            setTimeout(function () {
                $("#timePopup").popup("close");
                setTimeout(function () {
                    $("#colorPopup").popup("open", { positionTo: "#colorSelect", tolerance: "80, 15, 30, 15" });
                    setTimeout(function () {
                        $("#colorPopup").popup("close");
                    }, 3000);
                }, 500);
            }, 3000);*/
        }

        function testPopupTrigger_onclick() {
            $("#isExistingPacerPopup").popup("open", { positionTo: "window" });
        }

        // Take the user to the view with the existing pacer buttons so they can choose theirs
        function login() {
            $(":mobile-pagecontainer").pagecontainer("change", "#pacerButtonView_existing", {
                transition: "slide"
            });
            refreshPacerButtonData();
        }
        
        // Refreshes the pacerButtons with what is currently in the database - also refreshes text fields
        function refreshPacerButtonData() {
            // alert("made it to refreshpacerbuttondata function");
            var newPacer = [];  // in order to store array objects, you must create this variable like this

            if (isVerificationEnabled == true) {    // If verification is enabled, do the normal verification, but if it isn't, allow the user to click through the app
                // get lapTime, name, and color from PHP
                var request = new XMLHttpRequest();
                request.onreadystatechange = function () {
                    // alert("made it to refreshpacerbuttondata response.");
                    if (request.readyState == 4 && request.status == 200) {
                        // split up the feedback
                        pacerGroupSet = request.responseText.split("#");
                        // alert(pacerGroupSet);
                        // alert(pacerGroupSet[0] + "<br>" + pacerGroupSet[1] + "<br>" + pacerGroupSet[2] + "<br>");
                        
                        for (i = 0; i < pacerGroupSet.length; i++) {
                            // split up the already split pieces
                            singlePacerSet = pacerGroupSet[i].split(",");

                            // make your newPacer variable out of what you just split up
                            newPacer[i] = {
                                index: singlePacerSet[0],
                                lapTime: singlePacerSet[1],
                                lapSecs: singlePacerSet[1] % 60,
                                lapMins: (singlePacerSet[1] - (singlePacerSet[1] % 60)) / 60,
                                color: colorArray[singlePacerSet[2] % colorArray.length],
                                colorText: "background-color:" + colorArray[singlePacerSet[2] % colorArray.length],
                                name: singlePacerSet[3],
                                activeText: singlePacerSet[3] + " - " + (singlePacerSet[1] * 1609.344 / trackDistanceInMeters).toString().toHHMMSS() + " mile pace",
                                inactiveText: singlePacerSet[3] + " - inactive"
                            };

                            // newPacer[masterPacerSelected].color, (newPacer[masterPacerSelected].lapTime * 1609.344 / trackDistanceInMeters).toString(), .toHHMMSS()

                            
                            // update the buttons
                            $("#existPacerButton" + i).text(newPacer[i].activeText).attr('style', newPacer[i].colorText);
                            if (singlePacerSet[2] % colorArray.length == "2" || singlePacerSet[2] % colorArray.length == "6" || singlePacerSet[2] % colorArray.length == "7") {
                                $("#existPacerButton" + i).css('color', 'white');
                            }
                            if (singlePacerSet[1] == "0") {
                                $("#existPacerButton" + i).text(newPacer[i].inactiveText).attr('style', "background-color:black").css('color', 'white');
                            }
                            

                            // update other text fields - used in Coach Mode
                            //if (masterPacerSelected == i) {
                            //    if (masterPacerSelected != 99) {
                            //        // update pacerSelect button for Coach Mode
                            //        $("#pacerSelect").text(newPacer[i].activeText).attr('style', newPacer[i].colorText);
                            //        if (singlePacerSet[2] % colorArray.length == "2" || singlePacerSet[2] % colorArray.length == "6" || singlePacerSet[2] % colorArray.length == "7") {
                            //            $("#pacerSelect").css('color', 'white');
                            //        }
                            //        if (singlePacerSet[1] == "0") {
                            //            $("#pacerSelect").text(newPacer[i].inactiveText).attr('style', "background-color:black").css('color', 'white');
                            //        }
                            //    }
                            //}
                        }
                    }
                }
                request.open("GET", "updatePacers.php?updatePacerButtonsNeeded=1", true);
                request.send();
                // alert("made it to refreshpacerbuttondata request.");
            }
            else {
                // if verification is off, fill the buttons with some made up data
                for (i = 0; i < 10; i++) {
                    if (i < 6) {
                        $("#existPacerButton" + i).text("Pacer" + i + " - " + (i + 1) + " sec lap").attr('style', "background-color:" + colorArray[i + 1]);
                        if (i + 1 % colorArray.length == "2" || i + 1 % colorArray.length == "6" || i + 1 % colorArray.length == "7") {
                            $("#existPacerButton" + i).css('color', 'white');
                        }
                    }
                    else {
                        $("#existPacerButton" + i).text("Pacer" + i + " - inactive").attr('style', "background-color:black").css('color', 'white');
                    }
                }
            }
        }

        // *****************
        // End Click Handlers
        // *****************

        $(document).ready(function () {
            colorButtonInitialize();
            // testPopupTrigger_onclick();

            $('#timeInput').hide();
            $("#colorText").hide();
            $('#timeInput_controlView').hide();
            $('#optionsButton').hide();

            if (isDistanceChangePermissionEnabled == false) {
                // hide that button
                $('#distanceSelect_controlView').hide();
            }
            

            // After clicking the "Click to enter time" button or the button that has the time on it, this will open the flip box
            $("#timeInputLink").click(function () {
                $('#timeInputFlipBox').datebox('open');
            });

            // After clicking the "Click to enter time" button or the button that has the time on it, this will open the flip box
            $("#timeInputLink_controlView").click(function () {
                $('#timeInputFlipBox_controlView').datebox('open');
            });
            
            // Click Handlers
            $(".existPacerButtonClass").click(function () {
                if (this.text.substring(9, 17) != "inactive") {     // if the pacer is active
                    // alert("made it to Pacertext: " + this.text.substring(9,17));
                    masterPacerSelected = Number($(this).attr("otherNum"));
                    masterColorIndex = colorArray.indexOf(this.style.backgroundColor);
                    // masterUserPaceTime = this.text.substring(9, 14);

                    // prompt - enter your PIN for your pacer
                    pinVar = prompt("Enter the 3-digit passcode:", "123");

                    if (true) {         // if the PIN is correct, change to the page
                        $(":mobile-pagecontainer").pagecontainer("change", "#testingSimplePacerControl", {
                            transition: "slide"
                        });

                        $("#colorSelect_controlView").val(masterColorIndex).selectmenu('refresh');      // change the color select dropdown to whatever color the pacer was that was selected
                        $('#timeInputLink_controlView').text(this.text.substring(9, 14));               // change time input button to whatever the time is
                        $('#startButton').text("Restart");                                              // change "Start" button to "Restart"
                        $('#loginButton').hide();                                                       // hide the Login button
                        $('#optionsButton').show();                                                     // show the options button
                    }
                    else {
                        alert("The passcode that you entered was incorrect.");
                    }
                }
                else {  // if the pacer is inactive
                    alert("Please choose an active pacer or navigate back to the previous screen to create one.");
                }

            });

            // Click Handler for colorButtonClass to take User to time input - New Pacer
            $(".colorButtonClass_create").click(function () {
                // get the value of the color desired which will correspond to the correct element in colorArray
                var newNum = $(this).attr("otherNum");

                // colorChanged(newNum);

                // assign this value to a global variable
                masterColorIndex = newNum;
                alert("This value was put into masterColorIndex: " + masterColorIndex);
                // set the selectColor dropdown
                // $("div#colorSelect select").val(newNum);

                // prompt for the PIN
                var pin = prompt("Create a 3 digit passcode so no one else can access your pacer");

                // PIN verfiy - incomplete
                if (isPinFormatValid(pin)) {
                    // do something
                }

                // if PIN verify passes ... send this command to Arduino / DB - incomplete
                // requestCommand(5, masterPacerSelected, newNum);

                // transition to the next page
                $(":mobile-pagecontainer").pagecontainer("change", "#testingSimplePacerControl", {
                    transition: "slide"
                });

                $("#colorSelect_controlView").val(masterColorIndex);
                alert("yada yada Your color is: " + colorArray[Number(masterColorIndex)]);
                $('#colorSelect_controlView').css("background-color", "red");
                // $("#colorSelect_controlView").style("color", colorArray[Number(masterColorIndex)]);
                $("#colorSelect_controlView").selectmenu('refresh');

                $('#timeInput_controlView').hide();
                // $('#timeInput_controlView').trigger('datebox', {'method':'set', 'value':'90' });
            });

            $(".paceDistanceButton").click(function () {
                var newNum = parseFloat($(this).attr("otherNum"));
                switch (newNum) {
                    case 0:
                        userTimeInputDistance = trackDistanceInMeters;
                        userTimeInputDistanceString = "lap";
                        break;
                    case 400:
                        userTimeInputDistance = newNum;
                        userTimeInputDistanceString = "400";
                        break;
                    case 1000:
                        userTimeInputDistance = newNum;
                        userTimeInputDistanceString = "1000";
                        break;
                    case 1600:
                        userTimeInputDistance = newNum;
                        userTimeInputDistanceString = "1600";
                        break;
                    case 1609.344:
                        userTimeInputDistance = newNum;
                        userTimeInputDistanceString = "mile";
                        break;
                }
                $("#paceInputLabelLink").text(userTimeInputDistanceString);
                $(":mobile-pagecontainer").pagecontainer("change", "#timeInputView_create", {
                    transition: "slide"
                });
            });

            // Click handler for newPacerButton that enables / disables verifcation upon hearing the "tap hold" event
            $("#newPacerButton").on("taphold", function () {
                isVerificationEnabled = !isVerificationEnabled;
                if (isVerificationEnabled == true) {
                    alert("Verifcation mode enabled!");
                }
                else {
                    alert("Verification mode disabled!");
                }
            });

            // Click handler for existingPacerButton that enables / disables developerMode upon hearing the "tap hold" event
            $("#existingPacerButton").on("taphold", function () {
                isDeveloperMode = !isDeveloperMode;
                if (isDeveloperMode == true) {
                    alert("Developer mode enabled!");
                }
                else {
                    alert("Developer mode disabled!");
                }
            });
        });

        // converts seconds to a properly formatted minutes and seconds - mm:ss
        String.prototype.toHHMMSS = function () {
            var sec_num = parseInt(this, 10);
            var minutes = Math.floor((sec_num) / 60);
            var seconds = sec_num - (minutes * 60);

            if (minutes < 10) { minutes = "0" + minutes; }
            if (seconds < 10) { seconds = "0" + seconds; }
            return minutes + ':' + seconds;
        }

        function timeAndDistanceSubmitted(val1, val2) {
            alert("Time: " + val1 + ", Distance: " + val2);
            // transition to the color choice page
            $(":mobile-pagecontainer").pagecontainer("change", "#colorButtonView_create", {
                transition: "slide"
            });
        }

        function distanceChanged(val) {
            val = Number(val);  // cast it from a string to a number
            switch (val) {
                case 1:
                    userTimeInputDistance = 1609.344;
                    userTimeInputDistanceString = "Mile";
                    break;
                case 2:
                    userTimeInputDistance = 1600;
                    userTimeInputDistanceString = "1600m";
                    break;
                case 3:
                    userTimeInputDistance = 1000;
                    userTimeInputDistanceString = "km";
                    break;
                case 4:
                    userTimeInputDistance = 400
                    userTimeInputDistanceString = "400m";
                    break;
                case 5:
                    userTimeInputDistance = trackDistanceInMeters;
                    userTimeInputDistanceString = "lap";
                    break;
            }
            $("#timeInputLink_controlView").text("Enter your " + userTimeInputDistanceString + " time:");
        }

        // change the button text whenever the user enters new text
        function timeInputChanged(val) {
            // split the string "x:yy" and save it as a single digit = "x*60 + y"
            timeArray = val.split(":");
            masterUserPaceTime = (Number(timeArray[0]) * 60) + Number(timeArray[1]);    // This ensures that a correctly formatted number goes into the global variable masterUserPaceTime

            // change the value of the buttons
            $("#timeInputLink").text(val);
            $("#timeInputLink_controlView").text(val);
        }

        function colorChanged(val) {
            val = Number(val);  // cast it from a string to a number and it will represent the index of the color in the colorArray
            alert("Your color is now: " + colorArray[val]);

            if (val == -1) {
                val = $("#colorRange").val();

                if (val == colorArray.length)
                    val = 1;
                else
                    val++;

                $("#colorRange").val(val);
            }
            $("#colorText").text("Pacer color: " + colorArray[val]);
            $("#colorText").css("background-color", colorArray[val]);
            $("#colorDiv").css("background-color", colorArray[val]);
            // $(".ui-slider").css("background-color", colorArray[val]);
        }

        // sends GET request for the commands that the Yun will accept; parameters: x - command, y - pacerIndex, z - value
        function requestCommand(x, y, z) {
            if (masterPacerSelected == 99) {		// If you're in "Coach Mode" where you can control all pacers at once, as well as update the database just like below
                y = masterPacerSelected;
            }
            if (isVerificationEnabled == true) {    // If verification is enabled, do the normal verification, but if it isn't, allow the user to click through the app
                var request = new XMLHttpRequest();
                request.onreadystatechange = function () {
                    if (request.readyState == 4 && request.status == 200) {
                        if (isDeveloperMode == true) {
                            alert(request.responseText);
                        }
                        else {
                            if (request.responseText.substr(0, 8) == "USER MSG") {
                                alert(request.responseText.substr(10));
                            }
                        }
                    }
                };

                request.open("GET", "updateDBandYun.php?command=" + x + "&pacerIndex=" + y + "&value=" + z + "&pin=" + pinVar, true);
                request.send();
            }
        }

        // initialize the colorButtons with text and color
        function colorButtonInitialize() {
            for (var i = 0; i < colorArray.length - 1; i++) {
                j = i + 1;
                $("#colorButton" + i + "_create").attr('otherNum', j).text(colorArray[j]).attr('style', 'background-color:' + colorArray[j]);
                if (i == 1 || i == 5 || i == 6) {
                    $("#colorButton" + i + "_create").css('color', 'white');
                }
            }
        }

        // Determines if the PIN that the user entered is in a valid format
        function isPinFormatValid(new_pinVar) {
            var str = "";
            str = new_pinVar.split("");
            if (str.length == 3) {
                return true;
            }
            else {
                return false;
            }
        }

    </script>
</head>
<body>

<!-- Testing Simple Pacer Control View -->
<div data-role="page" id="testingSimplePacerControl" class="contentElement advancedElement">
    
    <!-- Time input stuff -->
    <div id="timeInput_controlView">
        <input name="timeInputFlipBox" id="timeInputFlipBox_controlView" type="text" data-role="datebox" onchange="timeInputChanged(this.value)" data-options='{
				    "noButton": true, 
				    "mode":"durationflipbox", 
				    "overrideDurationFormat":"%DM:%DS", 
				    "minDur":"5", 
				    "maxDur":"900", 
				    "overrideDurationOrder":["i","s"], 
				    "popupPosition": "window" 
			    }' readonly="readonly" class="">
    </div>
    <a href="#" id="timeInputLink_controlView" data-theme="b" data-role="button" style="font-size: 24px">Enter Mile Time</a>
    <div id="distanceSelect_controlView" >
        <select onchange="distanceChanged(this.value)" data-theme="a" name="select-native-3" data-iconpos="none">
            <option value="1">distance: mile</option>
            <option value="2">distance: 1600</option>
            <option value="3">distance: km</option>
            <option value="4">distance: 400</option>
            <option value="5">distance: lap</option>
        </select>
    </div>
	<br /><br />
    
    <div id="colorSelectDiv_controlView">
        <!--<a href="#" data-inline="true" font-size: 24px" data-role="content">Test Button</a>-->
        <!--<label data-inline="true" for="colorSelect_controlView" class="btn">Color:</label>-->
        <!--<span class="ui-block-a" style="font-size: 24px">Pacer color:</span>-->
        <select data-role="button" data-theme="b" onchange="colorChanged(this.value)" name="select-native-3" id="colorSelect_controlView" data-iconpos="none">
            <option value="1">Pacer color: White</option>
            <option value="2">Pacer color: Red</option>
            <option value="3">Pacer color: Orange</option>
            <option value="4">Pacer color: Yellow</option>
            <option value="5">Pacer color: Green</option>
            <option value="6">Pacer color: Blue</option>
            <option value="7">Pacer color: Purple</option>
        </select>
    </div>
    <br /><br />

    <div class="ui-grid-b">
        <div class="ui-block-a"><button data-mini="true" data-theme="b" style="background-color:blue; font-size: 16px" data-role="button" onclick="help()" >Help</button></div>
        <div class="ui-block-b"><button id="startButton" data-mini="true" data-theme="b" style="background-color:green; font-size: 16px" data-role="button" onclick="start()">Start</button></div>
        <div class="ui-block-c"><button data-mini="true" data-theme="b" style="background-color:red; font-size: 16px" data-role="button">Exit</button></div>
    </div>
    <br /><br />

    <div>
        <a id="optionsButton" onclick="" data-theme="b" style="font-size: 16px" data-role="button">Options</a>
        <a id="loginButton" onclick="login()" data-theme="b" style="font-size: 16px" data-role="button">Already created a pacer? Login.</a>
    </div>

    <!-- Help Popup/Modal-->
	<div data-role="popup" id="helpPopup" data-overlay-theme="a" data-theme="a" style="max-width:400px;" class="ui-corner-all">
		<div data-role="header" data-theme="a" class="ui-corner-top">
			<h1>Help Page</h1>
		</div>
		<div role="main" class="ui-corner-bottom ui-content">
			<h3 class="ui-title">Enter your time and hit the start button.</h3>
			<p>If you already created a pacer and it's still running, hit the button titled "Already created a pacer? Login."</p>
			<a href="#" data-role="button" data-rel="back" data-transition="flow" data-theme="b">Close</a>
		</div>
	</div>

    <div data-role="popup" id="startPopup" data-overlay-theme="a" data-theme="a" style="max-width:400px;" class="ui-corner-all">
		<div data-role="header" data-theme="a" class="ui-corner-top">
			<h1>Begin?</h1>
		</div>
		<div role="main" class="ui-corner-bottom ui-content">
			<h3 class="ui-title">Are you ready to start running?</h3>
			<p>After you click OK, you will see a traffic light countdown: 
                <ul>
                    <li>The 3rd light turns RED</li>
                    <li>The 2nd light turns YELLOW</li>
                    <li>When the 1st light turns on with your color, you can start running.</li>
                </ul>

			</p>
			<a href="#" data-role="button" data-inline="true" data-rel="back" data-theme="a">Cancel</a>
			<a href="#" data-role="button" data-inline="true" data-rel="back" data-transition="flow" data-theme="b">OK</a>
		</div>
	</div>
</div>

<!-- Pacer Button View - Existing -->	
<div data-role="page" id="pacerButtonView_existing" class="contentElement advancedElement" >
    <a href="#" id="existPacerButton0" class="btn existPacerButtonClass" colorIndex="0" otherNum="0" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton1" class="btn existPacerButtonClass" colorIndex="0" otherNum="1" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton2" class="btn existPacerButtonClass" colorIndex="0" otherNum="2" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton3" class="btn existPacerButtonClass" colorIndex="0" otherNum="3" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton4" class="btn existPacerButtonClass" colorIndex="0" otherNum="4" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton5" class="btn existPacerButtonClass" colorIndex="0" otherNum="5" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton6" class="btn existPacerButtonClass" colorIndex="0" otherNum="6" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton7" class="btn existPacerButtonClass" colorIndex="0" otherNum="7" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton8" class="btn existPacerButtonClass" colorIndex="0" otherNum="8" data-role="button" data-icon="star"></a>
    <a href="#" id="existPacerButton9" class="btn existPacerButtonClass" colorIndex="0" otherNum="9" data-role="button" data-icon="star"></a>
</div>

<!-- Enter PIN View - Existing Pacer -->
<div data-role="page" id="pinView_existing" class="contentElement advancedElement" >
    <br /><br /><br />
    <h3 for="enterPinSubmit" class="">Enter your 3 digit passcode: </h3>
    <input type="number" pattern="[0-9]*" inputmode="numeric" name="name" id="pinEntryField" value="3 Digit Passcode Input" step="1" min="0" max="999" url="" />
    <br /><br /><br />
    <input id="enterPinSubmit" type="button" class="btn" otherNum="2" data-role="button" style="background-color:#f00" value="<h2>Enter!</h2>" />
</div>

<!-- Color Button View - New Pacer -->
<div data-role="page" id="colorButtonView_create" class="contentElement advancedElement" >
	<h3>Select your color:</h3>
	<br />
    <a id="colorButton0_create" class="btn colorButtonClass_create" otherNum="1" data-role="button" data-icon="star"></a>
    <a id="colorButton1_create" class="btn colorButtonClass_create" otherNum="2" data-role="button" data-icon="star"></a>
    <a id="colorButton2_create" class="btn colorButtonClass_create" otherNum="3" data-role="button" data-icon="star"></a>
    <a id="colorButton3_create" class="btn colorButtonClass_create" otherNum="4" data-role="button" data-icon="star"></a>
    <a id="colorButton4_create" class="btn colorButtonClass_create" otherNum="5" data-role="button" data-icon="star"></a>
    <a id="colorButton5_create" class="btn colorButtonClass_create" otherNum="6" data-role="button" data-icon="star"></a>
    <a id="colorButton6_create" class="btn colorButtonClass_create" otherNum="7" data-role="button" data-icon="star"></a>
</div>

<!--Extra Options View Buttons-->			
<div data-role="page" id="extraOptionsView" class="contentElement advancedElement" >
    <a id="createWorkoutExtrasButton" class="pacerActionButton" url="-1" otherNum="1" data-role="button"><h3>Create Workout</h3></a>
	<br />
    <a id="startWorkoutButton" class="pacerActionButton" url="-1" otherNum="1" data-role="button"><h3>Start Workout</h3></a>
	<br />
	<a id="test00" class="pacerActionButton" url="-1" otherNum="1" data-role="button"><h3>Pause Workout</h3></a>
	<br />
	<a id="changeDirectionExtrasButton" class="pacerActionButton" url="4" otherNum="-1" data-role="button"><h3>Change Direction</h3></a>
	<br />
	<a id="changeVisibilityExtrasButton" class="pacerActionButton" url="3" otherNum="-1" data-role="button"><h3>Change Visibility</h3></a>
	<br />
	<a id="changeSpeedInFlightButton" class="pacerActionButton" url="-1" otherNum="1" data-role="button"><h3>Change Speed In Flight</h3></a>
	<br />
	<a id="test04" class="pacerActionButton" url="-1" otherNum="1" data-role="button"><h3>Change Name</h3></a>
</div>
				
<!-- Extras View Buttons in Developer Mode -->		
<div data-role="page" id="advancedCoachDiv" class="contentElement advancedElement" >
	<br /><br /><br />
    <button id="writeFileMode" style="background-color:lightgreen">Write Mode On/Off</button>
    <button id="lightStripMode" style="background-color:#E6E6E6">Light Strip Mode Toggle</button>
    <button id="selectAllPinButton" style="background-color:#E6E6E6">Select * From Pin</button>
    <button id="selectAllWorkoutButton" style="background-color:#E6E6E6">Select * From Workout</button>
    <button id="setAllWorkoutsToAcitveButton" style="background-color:#E6E6E6">Make all workouts active</button>
    <!--<button id="startWorkoutButton" style="background-color:#E6E6E6">Start Workout</button>-->
    <a id="resetYunFromDbButton" class="btn" url="-1" otherNum="1" data-role="button">Refresh Pacers based on Yun DB</a>
</div>
                
<!-- Create Workout View -->
<div data-role="page" id="createWorkoutDiv" class="contentElement advancedElement" >
    <h3 for="createWorkoutSubmit" class="">Create your workout: </h3>

    <label for="workoutSetsInput" class="select">Number of Sets:</label>
	<input type="number" pattern="[0-9]*" name="name" id="workoutSetsInput" value="Number of Sets" step="1" min="1" max="900" url="13" />

    <h4 id="setNumberIndicator">Setup interval #</h4>

    <label for="workoutMetersInput" class="select">Distance (meters) of Each Interval:</label>
	<input type="number" pattern="[0-9]*" name="name" id="workoutMetersInput" value="Distance (meters) of Each Interval" step="1" min="1" max="900" url="13" />
                    
    <label for="workoutLapPaceInput" class="select">Enter your one-lap pace:</label>
	<input type="number" pattern="[0-9]*" name="name" id="workoutLapPaceInput" value="Enter your one-lap pace:" step="0.1" min="1" max="900" url="13" />

    <label for="workoutRestInput" class="select">Enter your rest (in seconds):</label>
	<input type="number" pattern="[0-9]*" name="name" id="workoutRestInput" value="Enter your rest (in seconds)" step="1" min="25" max="900" url="13" />

    <button id="previousWorkoutSetButton" style="background-color:#E6E6E6">Previous Interval</button>
    <button id="nextWorkoutSetButton" style="background-color:#E6E6E6">Next Interval</button>

    <br />
    <input id="createWorkoutSubmit" type="button" class="btn" otherNum="0" data-role="button" style="background-color:#f00" value="<h2>Create!</h2>" />
</div>


</body>
</html>